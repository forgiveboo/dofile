(()=>{"use strict";var e,t,n,r,a,s={9713:(e,t,n)=>{n.d(t,{un:()=>r.u,HP:()=>a.H,HE:()=>s.H});var r=n(3624),a=n(8353),s=n(3033);n(4818)},3624:(e,t,n)=>{n.d(t,{u:()=>r});const r=e=>{let t=0;for(let n=0;n<e.length;n++)t=Math.imul(31,t)+e.charCodeAt(n),t|=0;return t}},3033:(e,t,n)=>{n.d(t,{H:()=>r});class r{constructor(){this.deferreds=[]}acquire(){const e=this.deferreds[this.deferreds.length-1]?.promise??Promise.resolve();return this.deferreds.push((()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e})()),e}release(){const e=this.deferreds.shift();return e&&e.resolve(),Promise.resolve()}async apply(e,t,n){let r;await this.acquire();try{r=await Reflect.apply(e,t,n??[])}finally{await this.release()}return r}wrap(e,t){return async(...n)=>await this.apply(e,t,n)}}},4818:(e,t,n)=>{const r=new Date;r.getTimezoneOffset(),r.toTimeString().slice(12,17)},8353:(e,t,n)=>{n.d(t,{H:()=>r});const r=()=>{const e=crypto.getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=Array.from(e,(e=>e.toString(16).padStart(2,"0")));return t.splice(4,0,"-"),t.splice(7,0,"-"),t.splice(10,0,"-"),t.splice(13,0,"-"),t.join("")}},1450:(e,t,n)=>{n.a(e,(async e=>{var t=n(9005),r=n(9047),a=n(6978),s=n(1761),i=n(429);const o=await(0,i.Z)(),l=new s.Z({client:[t.Z.apiUrl,o],load:async()=>{const e="backend-v2";return(await a.Z.storage.get([e]))[e]},save:async e=>{await a.Z.storage.set({"backend-v2":e})}}),u={translate:async(e,t)=>await l.translate(t),zhtools:async(e,t)=>await l.zhtools(t),jatools:async(e,t)=>await l.jatools(t),heat:async(e,t)=>await l.heat(t),check:async(e,t)=>{const n=t.apiKey;return await l.check({apiKey:n})}};chrome.runtime.onMessage.addListener(((e,t,n)=>((0,r.W)(u,e,t,n),!0))),e()}),1)},9005:(e,t,n)=>{n.d(t,{Z:()=>r});const r={apiUrl:"https://api.dualsub.xyz"}},6978:(e,t,n)=>{n.d(t,{Z:()=>r});const r={storage:{get:e=>new Promise(((t,n)=>{chrome.storage.local.get(e,(e=>{const r=chrome.runtime.lastError;r?n(r):t(e)}))})),set:e=>new Promise(((t,n)=>{chrome.storage.local.set(e,(()=>{const e=chrome.runtime.lastError;e?n(e):t()}))}))},runtime:{sendMessage:e=>new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(e=>{const r=chrome.runtime.lastError;r?n(r):t(e)}))}))},tabs:{query:e=>new Promise((t=>{chrome.tabs.query(e,(e=>{t(e)}))})),sendMessage:(e,t)=>new Promise(((n,r)=>{chrome.tabs.sendMessage(e,t,(e=>{const t=chrome.runtime.lastError;t?r(t):n(e)}))}))}}},9047:(e,t,n)=>{n.d(t,{W:()=>r});const r=(e,t,n,r)=>{const a=e[t.name];if(a)a(n,t.args).then((e=>r({ok:!0,data:e})),(e=>r({ok:!1,data:String(e)})));else{const e=`invalid name: ${t.name}`;r({ok:!1,data:e})}}},1761:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(9713);function a(e,t){t=t??new WeakMap;const n=typeof e;if("string"===n||"number"===n||"boolean"===n||null===e)return e;if("object"!==n)throw`invalid type: ${n}`;if(t.has(e))throw"circular reference";if(Array.isArray(e)){t.set(e,!0);const n=e.map((e=>a(e,t)));return t.delete(e),[n]}t.set(e,!0);const r=Object.keys(e).sort(),s=r.map((n=>a(e[n],t)));return t.delete(e),[s,r]}const s=e=>{const t=crypto.getRandomValues(new Uint32Array(4));return t[3]=(e=>{let t=0;for(let n=0;n<e.length;n++)t=Math.imul(31,t)+e.charCodeAt(n),t|=0;return t})(JSON.stringify(a([t.slice(0,3),e]))),[...t].map((e=>e.toString(16).padStart(8,"0"))).join("")};class i{constructor(e,t){this.prefix=e,this.session=t}getUrl(e){return`${this.prefix}${e}`}async service(e,t){const n=this.session,r=s([e,t,n]),a=JSON.stringify({method:e,params:t,session:n,sign:r}),i=this.getUrl("/service"),o=await(async(e,t)=>{const n=await fetch(e,{method:"post",headers:{"Content-Type":"application/json; charset=utf-8"},body:t});if(200!==n.status)throw`${n.status} ${n.statusText}`;let r;try{r=await n.json()}catch(e){throw"invalid JSON text"}return r})(i,a);if(0===o.code)return o.result;throw o.message}}class o{constructor(e,t){this.server=new i(e,t)}async translate(e){return await this.server.service("translate",e)}async zhtools(e){return await this.server.service("zhtools",e)}async jatools(e){return await this.server.service("jatools",e)}async heat(e){return await this.server.service("heat",e)}async check(e){return await this.server.service("check",e)}}class l{constructor(){this.map=new Map}get(e){return this.map.get(e)}set(e,t){this.map.set(e,t)}backup(){return{entries:Array.from(this.map.entries())}}restore(e){this.map=new Map(e.entries)}}const u=(e,t)=>{const n=JSON.stringify(t),a=(0,r.un)(n);return`${e}:${new Uint32Array([a])[0].toString(36)}`},c=e=>{const t=[];let n=0;for(const r of e.entries.reverse()){if(!r[0].startsWith("translate"))continue;const e=n+JSON.stringify(r).length;if(e>=32e3)break;t.push(r),n=e}return t.reverse(),{entries:t}};class p{constructor(e){this.props=e,this.client=new o(...e.client),this.lock=new r.HE,this.cache=new l,this.load()}async load(){const e=await this.props.load();void 0!==e&&this.cache.restore(e.cache)}async save(){const e=this.cache.backup(),t={cache:c(e)};await this.props.save(t)}async translateAtomic(e){const t=u("translate",e);let n=this.cache.get(t);return void 0===n&&(n=await this.client.translate(e),this.cache.set(t,n),this.save()),n}async zhtoolsAtomic(e){const t=u("zhtools",e);let n=this.cache.get(t);return void 0===n&&(n=await this.client.zhtools(e),this.cache.set(t,n),this.save()),n}async jatoolsAtomic(e){const t=u("jatools",e);let n=this.cache.get(t);return void 0===n&&(n=await this.client.jatools(e),this.cache.set(t,n),this.save()),n}async heatAtomic(e){return await this.client.heat(e)}async checkAtomic(e){return await this.client.check(e)}async translate(e){return await this.lock.apply(this.translateAtomic,this,[e])}async zhtools(e){return await this.lock.apply(this.zhtoolsAtomic,this,[e])}async jatools(e){return await this.lock.apply(this.jatoolsAtomic,this,[e])}async heat(e){return await this.lock.apply(this.heatAtomic,this,[e])}async check(e){return await this.lock.apply(this.checkAtomic,this,[e])}}},429:(e,t,n)=>{n.d(t,{Z:()=>$});var r=n(9713);const a=(e,t)=>{const n=e.type;if("string"===n||"number"===n||"boolean"===n)return typeof t===n;if("null"===n)return null===t;if("array"===n)return Array.isArray(t);if("object"===n)return"object"==typeof t&&null!==t&&!Array.isArray(t);throw`invalid schema type: ${n}`},s=(e,t)=>{const n=e.type;if("string"===n||"number"===n||"boolean"===n){e=e,void 0!==t&&void 0!==e.enum&&(e.enum.includes(t)||(t=void 0));let r=!1;if(void 0!==t&&(r=a(e,t)),r||void 0!==(t=e.default)&&(r=a(e,t)),"string"===n)return r?t:"";if("number"===n)return r?t:0;if("boolean"===n)return!!r&&t}if("null"===n)return null;if("array"===n)return[];if("object"===n)return{};throw`invalid schema type: ${n}`},i=(e,t)=>{const n=e.type;if("string"===n||"number"===n||"boolean"===n)return s(e)===t;if("null"===n)return!0;if("array"===n)return 0===t.length;if("object"===n)return 0===Object.keys(t).length;throw`invalid schema type: ${n}`};function o(e,t,n){const r=t.type;if("string"===r||"number"===r||"boolean"===r)return s(t,n);if("null"===r)return null;if("array"===r){if(void 0===(t=t).items)return[];a(t,n)||(n=[]);const r=t.items,s=[];for(const t of n)s.push(o(e,r,t));return s}if("object"===r){if(void 0===(t=t).properties)return{};a(t,n)||(n={});const r=t.properties,s=t.required??[],l={};for(const[t,a]of Object.entries(r)){const r=n[t];if("expand"!==e)if("shrink"!==e){if("inject"!==e)throw`invalid mode: ${e}`;{const n=void 0!==r,i=s.includes(t);if(n||i){const n=o(e,a,r);l[t]=n}}}else{const n=o(e,a,r);i(a,n)||(l[t]=n)}else{const n=o(e,a,r);l[t]=n}}return l}throw`invalid schema type: ${r}`}function l(e,t){t=t??new WeakMap;const n=typeof e;if("string"===n||"number"===n||"boolean"===n||"function"===n||null===e)return e;if("object"!==n)throw`invalid type: ${n}`;if(t.has(e))throw"circular reference";if(Array.isArray(e)){t.set(e,!0);const n=e.map((e=>l(e,t)));return t.delete(e),n}t.set(e,!0);const r={};for(const[n,a]of Object.entries(e))r[n]=l(a,t);return t.delete(e),r}function u(e){const t=typeof e;if("string"===t||"number"===t||"boolean"===t)return{type:t,default:e};if(null===e)return{type:"null"};if(Array.isArray(e))return{type:typeof e[0],default:e[0],enum:e};if("object"!==t)throw`invalid value type: ${t}`;const n=e,r=n.type;if("string"!==r&&"number"!==r&&"boolean"!==r&&"null"!==r){if("array"!==r){if("object"===r){const e=n.properties??{};for(const[t,n]of Object.entries(e)){const r=u(n);void 0!==r&&(e[t]=r)}return!0===n.required&&(n.required=Object.keys(e)),void(!1===n.required&&(n.required=[]))}throw`invalid schema type: ${r}`}{const e=u(n.items);void 0!==e&&(n.items=e)}}}const c={type:"array",items:""},p={fontSize:100,fontColor:"#ffffff",fontOpacity:100,fontEdgeEffect:["none","shadow","raised","depressed","outline","stroke"],fontEdgeColor:"#ffffff",fontEdgeSize:0,fontBold:!0,fontItalic:!0,backgroundColor:"#ffffff",backgroundOpacity:100,backgroundEdgeEffect:["none","shadow"],backgroundEdgeColor:"#ffffff",borderSize:0,borderColor:"#ffffff"},d={display1:["true","false"],display2:["true","false","preserve"],flexAlign:["center","left","right","evenly"]},m={flexAlign:d.flexAlign,...p},h={...p},b={display:d.display2,...p},y={display:d.display2,flexAlign:d.flexAlign,...p},f={display:d.display2,backgroundColor:p.backgroundColor,backgroundEdgeEffect:p.backgroundEdgeEffect,backgroundEdgeColor:p.backgroundEdgeColor,borderSize:p.borderSize,borderColor:p.borderColor},g={display:d.display1,match:"",...p},w={display:d.display1,match:c,...p},v=e=>({type:"object",properties:e,required:!1}),z=(e=>{const t=l(e);return u(t),t})({type:"object",properties:{general:{type:"object",properties:{rendering:{type:"object",properties:{bottomMargin:100,baseStyle:["stroke","background","classic","none"],mouseAction:["none","text"]},required:!0},dropdown:{type:"object",properties:{subtitleCount:[2,3,4,5,6,7,8],showOnlyLanguages:""},required:!0}},required:!0},language:{type:"object",properties:{translation:{type:"object",properties:{languageList:["popular","available"],translationEngine:["google","microsoft"],translationMode:["auto","enhance","normal"]},required:!0},chinese:{type:"object",properties:{pinyinScheme:["putonghua","guangzhouhua","jyutping"]},required:!0},japanese:{type:"object",properties:{furiganaCharacter:["kanji","kana"]},required:!0}},required:!0},style:{type:"object",properties:{genres:{type:"array",items:{type:"object",properties:{name:"",component:{type:"object",properties:{none:null,dialogue:v(m),contents:v(h),readings:v(b),grammars:v(y),dividers:v(f),pinyin:v(g),hiragana:v(g),katakana:v(g),romaji:v(g),loanword:v(g),pos:v(w),form:v(w),tag:v(w),base:v(g),sense:v(w),jlpt:v(w)},required:!1}},required:!0}},rulers:{type:"array",items:{type:"object",properties:{name:"",genres:c,tokens:{type:"object",properties:{text:"",hiragana:"",katakana:"",romaji:"",loanword:"",pos:c,form:c,tag:c,base:"",sense:c,jlpt:c},required:!1}},required:!0}},themes:{type:"array",items:{type:"object",properties:{name:"",genres:c,rulers:c,toolkit:"none"},required:!0}}},required:!0},plugin:{type:"object",properties:{items:{type:"array",items:{type:"object",properties:{name:"",type:["none","style","script","standard","simple"],code:"",urls:{type:"array",items:""}},required:!0}}},required:!0},file:{type:"object",properties:{items:{type:"array",items:{type:"object",properties:{name:"",lang:"",code:"",urls:{type:"array",items:""}},required:!0}}},required:!0},network:{type:"object",properties:{server:{type:"object",properties:{apiUrl:["https://api.dualsub.xyz/"],apiKey:""},required:!0}},required:!0}},required:!0}),j=e=>((e,t)=>o("inject",e,t))(z,e),k='\n/* www.youtube.com */\n.ytd-page-manager .dualsub-renderer .subtitles {\n    font-size: 80%;\n}\n.ytd-page-manager[theater] .dualsub-renderer .subtitles {\n    font-size: 90%;\n}\n.ytd-page-manager[fullscreen] .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\n.ytd-page-manager .dualsub-renderer {\n    margin-bottom: -50px;\n}\n.ytd-page-manager[theater] .dualsub-renderer {\n    margin-bottom: -40px;\n}\n.ytd-page-manager[fullscreen] .dualsub-renderer {\n    margin-bottom: 0;\n}\n\n/* m.youtube.com */\n.ytp-mweb-player .dualsub-renderer {\n    font-size: 12px;\n    padding: 4px 8px;\n    margin-bottom: -80px;\n}\n.ytp-mweb-player .dualsub-renderer .subtitles {\n    padding: 4px 8px;\n    gap: 0;\n}\n.ytp-mweb-player .dualsub-renderer .contents {\n    line-height: 0.8;\n}\n.ytp-mweb-player.ytp-large-width-mode .dualsub-renderer {\n    font-size: 18px;\n    margin-bottom: -70px;\n}\n\n/* www.coursera.org */\ndiv[data-vjs-player] .dualsub-renderer .subtitles {\n    font-size: 60%;\n}\ndiv[data-vjs-player].vjs-fullscreen .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\ndiv[data-vjs-player] .dualsub-renderer {\n    margin-bottom: -60px;\n}\ndiv[data-vjs-player].vjs-fullscreen .dualsub-renderer {\n    margin-bottom: 0;\n}\n\n/* www.udemy.com */\ndiv[class^="has-sidebar"] .dualsub-renderer .subtitles {\n    font-size: 80%;\n}\ndiv[class^="app--no-sidebar"] button ~ .dualsub-renderer .subtitles {\n    font-size: 90%;\n}\ndiv[class^="app--no-sidebar"] .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\ndiv[class^="has-sidebar"] .dualsub-renderer {\n    margin-bottom: -50px;\n}\ndiv[class^="app--no-sidebar"] button ~ .dualsub-renderer {\n    margin-bottom: -40px;\n}\ndiv[class^="app--no-sidebar"] .dualsub-renderer {\n    margin-bottom: 0;\n}\n\n/* www.ted.com */\n#ted-player .dualsub-renderer .subtitles {\n    font-size: 70%;\n}\n#ted-player:fullscreen .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\n#ted-player .dualsub-renderer {\n    margin-bottom: -40px;\n}\n#ted-player:fullscreen .dualsub-renderer {\n    margin-bottom: 0;\n}\n\n/* www.ardmediathek.de */\n.ardplayer .dualsub-renderer .subtitles {\n    font-size: 80%;\n}\n.ardplayer.ardplayer-state-fullscreen .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\n.ardplayer .dualsub-renderer {\n    margin: auto;\n}\n\n/* www.zdf.de */\n.b-zdfplayer .dualsub-renderer .subtitles {\n    font-size: 80%;\n}\n.b-zdfplayer.zdfplayer-fullscreen .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\n.b-zdfplayer .dualsub-renderer {\n    margin-bottom: -30px;\n}\n.b-zdfplayer.zdfplayer-fullscreen .dualsub-renderer {\n    margin-bottom: 0;\n}\n\n/* www.arte.tv */\n.avp .dualsub-renderer .subtitles {\n    font-size: 70%;\n}\n.avp.isFullScreen .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\n\n/* vimeo.com */\n.player_area .dualsub-renderer .subtitles {\n    font-size: 70%;\n}\n.player_area.is_fullscreen .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\n.player_area .dualsub-renderer {\n    margin-bottom: -60px\n}\n.player_area.is_fullscreen .dualsub-renderer {\n    margin-bottom: 0;\n}\n\n/* viu.tv */\n.VODPlayer .PlayerControls {\n    margin-top: 0;\n    margin-bottom: 20px;\n}\n.VODPlayer .slider-control > div {\n    margin-top: 12px !important;\n    margin-bottom: 12px !important;\n}\n\n/* www.iq.com */\n.iqp-player .dualsub-renderer .subtitles {\n    font-size: 70%;\n}\n.iqp-player.iqp-full-screen .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\n.iqp-player .dualsub-renderer {\n    margin-bottom: -50px\n}\n.iqp-player.iqp-full-screen .dualsub-renderer {\n    margin-bottom: 0;\n}\n\n/* wetv.vip */\n.txp_player .dualsub-renderer {\n    margin: auto;\n}\n.txp_player .dualsub-renderer .subtitles {\n    font-size: 80%;\n}\n.txp_player.txp_mode_fullscreen .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\n.txp_player .dualsub-renderer {\n    margin-bottom: -30px\n}\n.txp_player.txp_mode_fullscreen .dualsub-renderer {\n    margin-bottom: 0;\n}\n\n/* www.bilibili.com */\n.bilibili-player .dualsub-renderer .subtitles {\n    font-size: 70%;\n}\n.bilibili-player.mode-widescreen .dualsub-renderer .subtitles {\n    font-size: 80%;\n}\n.bilibili-player.mode-webfullscreen .dualsub-renderer .subtitles {\n    font-size: 90%;\n}\n.bilibili-player.mode-fullscreen .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\n\n/* www.bilibili.com (bangumi) */\n.bpx-player-container .dualsub-renderer .subtitles {\n    font-size: 70%;\n}\n.bpx-player-container[data-screen="wide"] .dualsub-renderer .subtitles {\n    font-size: 80%;\n}\n.bpx-player-container[data-screen="web"] .dualsub-renderer .subtitles {\n    font-size: 90%;\n}\n.bpx-player-container[data-screen="full"] .dualsub-renderer .subtitles {\n    font-size: 100%;\n}\n'.trim(),S="\n/* www.youtube.com */\n.dualsub-simple .ytp-caption-segment {\n    width: 100%;\n}\n.dualsub-simple .caption-visual-line:nth-child(1) > span::first-line {\n    font-size: 100%;\n}\n.dualsub-simple .caption-visual-line:nth-child(2) > span::first-line {\n    font-size: 80%;\n}\n\n/* m.youtube.com */\n.ytp-mweb-player .caption-window.ytp-caption-window-bottom {\n    margin-bottom: 20px;\n}\n".trim(),x="\n/* m.youtube.com */\n@media (max-width: 930px) and (orientation: landscape) {\n\n    .player-container {\n        height: 100vh !important;\n    }\n\n    #player {\n        padding-bottom: 100vh !important;\n    }\n\n    .html5-main-video {\n        width: 100vw !important;\n        height: 100vh !important;\n        left: 0 !important;\n        top: 0 !important;\n    }\n\n    ytm-mobile-topbar-renderer.sticky-player {\n        position: absolute !important;\n    }\n\n    .mobile-topbar-header {\n        box-shadow: none !important;\n    }\n\n    ytm-engagement-panel {\n        top: calc(100vh + 48px) !important;\n    }\n\n    .player-size {\n        padding-bottom: 100vh !important;\n    }\n\n}\n".trim(),A="\nWEBVTT\n\n00:00.000 --\x3e 20:00.000\nHow are you?\n\n20:00.000 --\x3e 40:00.000\nI am fine, thank you, and you?\n".trim(),q=function(e){return{genres:[{name:e.largeFont,component:{dialogue:{fontSize:110}}},{name:e.smallFont,component:{dialogue:{fontSize:90}}},{name:e.showPinyin,component:{pinyin:{display:"true"}}},{name:e.showHiragana,component:{hiragana:{display:"true"}}},{name:e.showSegmentline,component:{dividers:{display:"true",backgroundColor:"#ffffff",borderSize:1,borderColor:"#000000"}}},{name:e.hideSegmentline,component:{dividers:{display:"false"}}}],rulers:[{name:e.hideSegmentline,genres:[e.hideSegmentline],tokens:{pos:["无"]}}],themes:[{name:e.firstSubtitle,genres:[e.largeFont],rulers:[],toolkit:"none"},{name:e.secondSubtitle,genres:[e.smallFont],rulers:[],toolkit:"none"},{name:e.chineseLearning,genres:[e.largeFont,e.showPinyin],rulers:[],toolkit:"zhtools"},{name:e.japaneseLearning,genres:[e.largeFont,e.showHiragana,e.showSegmentline],rulers:[e.hideSegmentline],toolkit:"jatools"}]}},_=function(e){return{items:[{name:e.autoScaling,type:"style",code:k,urls:["https://www.youtube.com/","https://m.youtube.com/","https://www.coursera.org/","https://www.udemy.com/","https://www.ted.com/","https://www.ardmediathek.de/","https://www.zdf.de/","https://www.arte.tv/","https://vimeo.com/","https://viu.tv/","https://www.iq.com/","https://wetv.vip/","https://www.bilibili.com/"]},{name:e.simpleMode,type:"style",code:S,urls:["https://www.youtube.com/","https://m.youtube.com/"]},{name:e.pageFullscreen,type:"style",code:x,urls:["https://m.youtube.com/"]}]}},O=function(e){return{items:[{name:e.example,lang:"en",code:A,urls:[]}]}};var E=n(6978);const L=JSON.parse('{"en":{"autoScaling":"Auto Scaling","chineseLearning":"Chinese Learning","example":"Example","firstSubtitle":"First Subtitle","hideSegmentline":"Hide Segmentline","japaneseLearning":"Japanese Learning","largeFont":"Large Font","pageFullscreen":"Page Fullscreen","secondSubtitle":"Second Subtitle","showHiragana":"Show Hiragana","showPinyin":"Show Pinyin","showSegmentline":"Show Segmentline","simpleMode":"Simple Mode","smallFont":"Small Font"}}'),C=JSON.parse('{"zh-hans":{"autoScaling":"自动缩放","chineseLearning":"中文学习","example":"示例","firstSubtitle":"第一字幕","hideSegmentline":"隐藏分词线","japaneseLearning":"日语学习","largeFont":"大号字体","pageFullscreen":"网页全屏","secondSubtitle":"第二字幕","showHiragana":"显示平假名","showPinyin":"显示拼音","showSegmentline":"显示分词线","simpleMode":"简单模式","smallFont":"小号字体"}}'),P=JSON.parse('{"zh-hant":{"autoScaling":"自動縮放","chineseLearning":"中文學習","example":"示例","firstSubtitle":"第一字幕","hideSegmentline":"隱藏分詞線","japaneseLearning":"日語學習","largeFont":"大號字體","pageFullscreen":"網頁全屏","secondSubtitle":"第二字幕","showHiragana":"顯示平假名","showPinyin":"顯示拼音","showSegmentline":"顯示分詞線","simpleMode":"簡單模式","smallFont":"小號字體"}}'),M=JSON.parse('{"en":{"LANG_CODE":"en","LANG_NAME":"English","LANG_LOCAL":"English"},"zh-hans":{"LANG_CODE":"zh-hans","LANG_NAME":"Simplified Chinese","LANG_LOCAL":"简体中文"},"zh-hant":{"LANG_CODE":"zh-hant","LANG_NAME":"Traditional Chinese","LANG_LOCAL":"繁體中文"}}'),F=new class{constructor(e){this.dataset=(e=>{const t={};for(const n of e)for(const[e,r]of Object.entries(n))t[e]||(t[e]={}),Object.assign(t[e],r);return t})(e)}get(e){return e=function(e){return""===(e=e.toLowerCase().replace("_","-").trim())?"en":"zh-tw"===e||"zh-hk"===e||"zh-mo"===e||"zh-hant"===e?"zh-hant":e.match(/^zh\b/)?"zh-hans":e.split("-")[0]}(e),this.dataset[e]||(e="en"),this.dataset[e]}}([L,C,P,M]);var N;const H=(e=>({daemon:F.get(e)}))("zh-tw"===(N=(N=navigator.language).toLowerCase().replace("_","-").trim())||"zh-hk"===N||"zh-mo"===N||"zh-hant"===N?"zh-hant":N.match(/^zh\b/)?"zh-hans":"en"),$=async()=>{const{version:e}=chrome.runtime.getManifest(),t=await E.Z.storage.get(["instance","setting"]),n=t.instance??(0,r.HP)(),a=t.setting??(()=>{const e=j();return e.style=q(H.daemon),e.plugin=_(H.daemon),e.file=O(H.daemon),e})(),s={version:e,instance:n},i={};return void 0===t.instance&&(i.instance=n),void 0===t.setting&&(i.setting=a),0!==Object.keys(i).length&&await E.Z.storage.set(i),s}}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return s[e](n,n.exports,o),n.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},r=e=>!--e.r&&e(),a=(e,t)=>e?e.push(t):r(t),o.a=(s,i,o)=>{var l,u,c,p=o&&[],d=s.exports,m=!0,h=!1,b=(t,n,r)=>{h||(h=!0,n.r+=t.length,t.map(((t,a)=>t[e](n,r))),h=!1)},y=new Promise(((e,t)=>{c=t,u=()=>(e(d),n(p),p=0)}));y[t]=d,y[e]=(e,t)=>{if(m)return r(e);l&&b(l,e,t),a(p,e),y.catch(t)},s.exports=y,i((s=>{if(!s)return u();var i,o;l=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var i=[];s.then((e=>{o[t]=e,n(i),i=0}));var o={};return o[e]=(e,t)=>(a(i,e),s.catch(t)),o}}var l={};return l[e]=e=>r(e),l[t]=s,l})))(s);var c=new Promise(((e,n)=>{(i=()=>e(o=l.map((e=>e[t])))).r=0,b(l,i,n)}));return i.r?c:o})).then(u,c),m=!1},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(1450)})();